{"version":3,"sources":["components/Login.js","components/Register.js","components/Header.js","components/SideBar.js","components/Main.js","components/Dashboard.js","App.js","index.js"],"names":["require","config","Login","history","useHistory","useEffect","document","title","fetch","process","REACT_APP_IP","method","withCredentials","credentials","headers","then","res","json","data","success","push","catch","err","console","log","useState","name","setName","password","setPassword","isValidated","setIsValidated","isClicked","setIsclicked","classes","makeStyles","theme","margin","spacing","useStyles","postLogin","username","body","JSON","stringify","className","src","alt","TextField","id","label","style","error","placeholder","fullWidth","InputLabelProps","shrink","autoComplete","variant","onChange","e","target","value","type","href","Button","size","color","onClick","preventDefault","test","Register","email","setEmail","postRegister","SideBar","sideBarOption","setSideBarOption","reRender","setReRender","btn","uploadbtn","fontSize","useStylesUpload","styleUpload","position","top","left","transform","width","borderRadius","bgcolor","boxShadow","p","Main","setData","open","setOpen","pdfUrl","setPdfUrl","param","setParam","openUpload","setOpenUpload","uploadTrigger","setUploadTrigger","classesUpload","handleCloseUpload","height","handleClose","handleParam","response","Modal","onClose","Box","sx","class","onSubmit","FormData","prevState","handleUpload","files","length","getElementById","click","enctype","accept","visibility","for","map","item","index","extension","replace","path","blob","url","URL","createObjectURL","taille","Dashboard","setIsLoggedIn","setUserName","user","App","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.58594fbc.chunk.js","sourcesContent":["import { TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\n\nrequire('dotenv').config();\n\nconst Login = () => {\n\tconst history = useHistory();\n\n\t// useEffect\n\tuseEffect(() => {\n\t\tdocument.title = 'Login - Drive Clone';\n\n\t\t// get request with fetch\n\t\tfetch(`${process.env.REACT_APP_IP}/is-logged`, {\n\t\t\tmethod: 'GET',\n\t\t\twithCredentials: true,\n\t\t\tcredentials: 'include',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.success) {\n\t\t\t\t\thistory.push('/');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t}, [history]);\n\n\t// state Variables\n\tconst [name, setName] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [isValidated, setIsValidated] = useState(false);\n\tconst [isClicked, setIsclicked] = useState(false);\n\n\t// Functions\n\tconst useStyles = makeStyles((theme) => ({\n\t\tmargin: {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t}));\n\tconst classes = useStyles();\n\n\tconst validateCreds = (e) => {\n\t\te.preventDefault();\n\n\t\t// Username regex\n\t\tconst nameRegex = /^[a-z ,.'-]+$/i;\n\n\t\t// Password Regex\n\t\tconst passwordRegex =\n\t\t\t/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n\n\t\tif (nameRegex.test(name) && passwordRegex.test(password)) {\n\t\t\tsetIsValidated(true);\n\n\t\t\t// Posting to the API\n\t\t\te.preventDefault();\n\t\t\tpostLogin(name, password);\n\t\t} else {\n\t\t\tsetIsValidated(false);\n\t\t}\n\t\tsetIsclicked(true);\n\t};\n\n\tconst postLogin = (name, password) => {\n\t\tconst data = {\n\t\t\tusername: name,\n\t\t\tpassword: password,\n\t\t};\n\t\tfetch(`${process.env.REACT_APP_IP}/login`, {\n\t\t\tmethod: 'POST',\n\t\t\twithCredentials: true,\n\t\t\tcredentials: 'include',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.success) {\n\t\t\t\t\thistory.push('/');\n\t\t\t\t} else {\n\t\t\t\t\tsetIsValidated(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t};\n\n\treturn (\n\t\t<div className=\"login-container\">\n\t\t\t<form className=\"login-form\">\n\t\t\t\t<div className=\"form-header\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"form-logo\"\n\t\t\t\t\t\tsrc={process.env.PUBLIC_URL + '/Static/google_drive.svg'}\n\t\t\t\t\t\talt=\"Drive Logo\"\n\t\t\t\t\t/>\n\t\t\t\t\t<h3 className=\"form-title\">Login</h3>\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-full-width login-email\"\n\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\tstyle={{ margin: 8 }}\n\t\t\t\t\t{...(!isValidated && isClicked ? { error: true } : {})}\n\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetName(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-full-width login-password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\tstyle={{ margin: 8 }}\n\t\t\t\t\t{...(!isValidated && isClicked ? { error: true } : {})}\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetPassword(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"links-div\">\n\t\t\t\t\t<a href=\"/register\" className=\"forgot-password\">\n\t\t\t\t\t\tDont have an Account? Register Now.\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\tonClick={validateCreds}\n\t\t\t\t>\n\t\t\t\t\tLogin\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default Login;\n","import { TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\n\nrequire('dotenv').config();\n\nconst Register = () => {\n\t// useeffect\n\tuseEffect(() => {\n\t\tdocument.title = 'Register - Drive Clone';\n\t}, []);\n\n\t// State Variables\n\tconst [name, setName] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [isValidated, setIsValidated] = useState(false);\n\tconst [isClicked, setIsclicked] = useState(false);\n\n\t// functions\n\tconst useStyles = makeStyles((theme) => ({\n\t\tmargin: {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t}));\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\n\tconst validateCreds = (e) => {\n\t\te.preventDefault();\n\t\t// email regex\n\t\tconst emailRegex =\n\t\t\t/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\t// password regex\n\t\tconst passwordRegex =\n\t\t\t/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n\n\t\tconst nameRegex = /^[a-z ,.'-]+$/i;\n\n\t\tif (\n\t\t\temailRegex.test(email) &&\n\t\t\tpasswordRegex.test(password) &&\n\t\t\tnameRegex.test(name)\n\t\t) {\n\t\t\tsetIsValidated(true);\n\t\t\tpostRegister(e, email, password);\n\t\t} else {\n\t\t\tsetIsValidated(false);\n\t\t}\n\t\tsetIsclicked(true);\n\t};\n\n\tconst postRegister = (e) => {\n\t\te.preventDefault();\n\t\tconst data = {\n\t\t\tusername: name,\n\t\t\temail: email,\n\t\t\tpassword: password,\n\t\t};\n\t\tfetch(`${process.env.REACT_APP_IP}/register`, {\n\t\t\tmethod: 'POST',\n\t\t\twithCredentials: true,\n\t\t\tcredentials: 'include',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tsetIsValidated(true);\n\t\t\t\t\thistory.push('/login');\n\t\t\t\t} else {\n\t\t\t\t\tsetIsValidated(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t};\n\treturn (\n\t\t<div className=\"login-container\">\n\t\t\t<form className=\"login-form\">\n\t\t\t\t<div className=\"form-header\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"form-logo\"\n\t\t\t\t\t\tsrc={process.env.PUBLIC_URL + '/Static/google_drive.svg'}\n\t\t\t\t\t\talt=\"Drive Logo\"\n\t\t\t\t\t/>\n\t\t\t\t\t<h3 className=\"form-title\">Register</h3>\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-full-width\"\n\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\tstyle={{ margin: 8 }}\n\t\t\t\t\t{...(!isValidated && isClicked ? { error: true } : {})}\n\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetName(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-full-width\"\n\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\tstyle={{ margin: 8 }}\n\t\t\t\t\t{...(!isValidated && isClicked ? { error: true } : {})}\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetEmail(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-full-width\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\tstyle={{ margin: 8 }}\n\t\t\t\t\t{...(!isValidated && isClicked ? { error: true } : {})}\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetPassword(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"links-div\">\n\t\t\t\t\t<a href=\"/login\" className=\"forgot-password\">\n\t\t\t\t\t\tAlready Have an Account? Login.\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\tonClick={validateCreds}\n\t\t\t\t>\n\t\t\t\t\tRegister\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default Register;\n","import { Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport Button from '@material-ui/core/Button';\nimport { useHistory } from 'react-router';\n\nrequire('dotenv').config();\n\nfunction Header({ userName, setIsLoggedIn }) {\n\tconst useStyles = makeStyles((theme) => ({\n\t\tmargin: {\n\t\t\tmargin: 10,\n\t\t},\n\t\tavatar: {\n\t\t\tbackgroundColor: 'red',\n\t\t},\n\t}));\n\tconst history = useHistory();\n\n\tconst handleLogout = () => {\n\t\t// Logout Post Request\n\t\tfetch(`${process.env.REACT_APP_IP}/logout`, {\n\t\t\tmethod: 'POST',\n\t\t\twithCredentials: true,\n\t\t\tcredentials: 'include',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.success) {\n\t\t\t\t\thistory.push('/login');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t};\n\n\tconst classes = useStyles();\n\treturn (\n\t\t<div className=\"header\">\n\t\t\t<div className=\"logo\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={process.env.PUBLIC_URL + '/Static/google_drive.svg'}\n\t\t\t\t\talt=\"Logo\"\n\t\t\t\t/>\n\t\t\t\t<h1>Drive Clone</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"avatar\">\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\tonClick={handleLogout}\n\t\t\t\t>\n\t\t\t\t\tLogout\n\t\t\t\t</Button>\n\t\t\t\t<Avatar className={classes.avatar}>{userName[0]}</Avatar>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Header;\n","import { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/styles\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Modal from \"@mui/material/Modal\";\nimport Box from \"@mui/material/Box\";\nimport \"./style.css\";\nimport PictureAsPdfIcon from \"@mui/icons-material/PictureAsPdf\";\nimport ImageIcon from \"@mui/icons-material/Image\";\nrequire(\"dotenv\").config();\n\nconst styleUpload = {\n  position: \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 400,\n  borderRadius: 5,\n  bgcolor: \"background.paper\",\n  boxShadow: 24,\n  p: 4,\n};\n\nconst SideBar = ({\n  sideBarOption,\n  setSideBarOption,\n  reRender,\n  setReRender,\n}) => {\n  const [openUpload, setOpenUpload] = useState(false);\n\n  // Functions\n  // Button Styles\n  const useStylesUpload = makeStyles({\n    btn: {\n      color: \"#5F6368\",\n    },\n    uploadbtn: {\n      color: \"#2185FC\",\n      fontSize: \"40px\",\n    },\n  });\n\n  const classesUpload = useStylesUpload();\n\n  // Functions\n  const handleOpenUpload = () => setOpenUpload(true);\n\n  const handleCloseUpload = () => setOpenUpload(false);\n\n  const handleUpload = (e) => {\n    e.preventDefault();\n    const data = new FormData(e.target);\n    fetch(\"http://127.0.0.1:3001/upload\", {\n      method: \"POST\",\n      body: data,\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        // eslint-disable-next-line no-restricted-globals\n        location.reload();\n        handleCloseUpload();\n      })\n      .catch((error) => console.error(error));\n  };\n  return (\n    <div >\n    </div>\n  );\n};\n\nexport default SideBar;\n","import { useState, useEffect } from \"react\";\n\nimport { makeStyles } from \"@material-ui/styles\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Modal from \"@mui/material/Modal\";\nimport Box from \"@mui/material/Box\";\nimport \"./style.css\";\nimport PictureAsPdfIcon from \"@mui/icons-material/PictureAsPdf\";\nimport ImageIcon from \"@mui/icons-material/Image\";\nimport CodeIcon from '@mui/icons-material/Code';\nimport StickyNote2Icon from '@mui/icons-material/StickyNote2';\nrequire(\"dotenv\").config();\n\nconst styleUpload = {\n  position: \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 400,\n  borderRadius: 5,\n  bgcolor: \"background.paper\",\n  boxShadow: 24,\n  p: 4,\n};\n\nconst Main = ({ sideBarOption, reRender, setReRender }) => {\n  const [data, setData] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [pdfUrl, setPdfUrl] = useState(null);\n  const [param, setParam] = useState(\"\");\n\n  const [openUpload, setOpenUpload] = useState(false);\n  const [uploadTrigger, setUploadTrigger] = useState(0);\n\n  // Functions\n  // Button Styles\n  const useStylesUpload = makeStyles({\n    btn: {\n      color: \"#5F6368\",\n    },\n    uploadbtn: {\n      color: \"#2185FC\",\n      fontSize: \"40px\",\n    },\n  });\n\n  const classesUpload = useStylesUpload();\n\n  // Functions\n  const handleOpenUpload = () => setOpenUpload(true);\n\n  const handleCloseUpload = () => setOpenUpload(false);\n\n  const handleUpload = (e) => {\n    e.preventDefault();\n    const data = new FormData(e.target);\n    fetch(\"http://127.0.0.1:3001/upload\", {\n      method: \"POST\",\n      body: data,\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        // eslint-disable-next-line no-restricted-globals\n        setUploadTrigger((prevState) => prevState + 1);\n        handleCloseUpload();\n      })\n      .catch((error) => console.error(error));\n  };\n\n  const style = {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: 5,\n    bgcolor: \"background.paper\",\n    boxShadow: 24,\n    p: 4,\n  };\n\n  const handleOpen = (path) => {\n    fetch(`http://localhost:3001/file?file=${path}`)\n      .then((response) => response.blob())\n      .then((blob) => {\n        \n        const url = URL.createObjectURL(blob);\n        setPdfUrl(url);\n      })\n      .catch((error) => console.error(error));\n    setOpen(true);\n  };\n\n  const handleClose = () => setOpen(false);\n  const handleParam = (data) => setParam(data);\n\n  useEffect(() => {\n    fetch(`http://localhost:3001/data/${param}`)\n      .then((response) => response.json())\n      .then((data) => setData(data));\n  }, [uploadTrigger, param]);\n\n  // Render main according to side bar option\n  return (\n    <>\n      <div className=\"sidebar\">\n        <div className=\"upload-btn\" onClick={handleOpenUpload}>\n          <AddIcon className={classesUpload.uploadbtn} />\n          Upload\n        </div>\n\n        <div className=\"upload-btn\" onClick={() => handleParam(\"\")}>\n          Tous types de fichers\n        </div>\n\n        <div className=\"upload-btn\" onClick={() => handleParam(\".pdf\")}>\n          <PictureAsPdfIcon className={classesUpload.uploadbtn} />\n          PDF\n        </div>\n\n        <div className=\"upload-btn\" onClick={() => handleParam(\".jpg\")}>\n          <ImageIcon className={classesUpload.uploadbtn} />\n          Images\n        </div>\n\n        <div className=\"upload-btn\" onClick={() => handleParam(\".html\")}>\n          <CodeIcon className={classesUpload.uploadbtn} />\n          HTML\n        </div>\n\n        <div className=\"upload-btn\" onClick={() => handleParam(\".txt\")}>\n          <StickyNote2Icon className={classesUpload.uploadbtn} />\n          Texte\n        </div>\n\n        <Modal\n          open={openUpload}\n          onClose={handleCloseUpload}\n          aria-labelledby=\"modal-modal-title\"\n          aria-describedby=\"modal-modal-description\">\n          <Box className=\"upload-modal\" sx={styleUpload}>\n            <form\n              id=\"file-upload-form\"\n              class=\"uploader\"\n              onSubmit={(e) => {\n                handleUpload(e);\n              }}\n              onChange={(e) => {\n                if (e.target.files.length > 0) {\n                  document.getElementById(\"confirm\").click();\n                }\n              }}\n              enctype=\"multipart/form-data\">\n              <input\n                id=\"file-upload\"\n                type=\"file\"\n                name=\"fileUpload\"\n                accept=\".zip\"\n              />\n              <input type=\"submit\" id=\"confirm\" style={{visibility: \"hidden\"}}></input>\n              <label for=\"file-upload\" id=\"file-drag\">\n                <div id=\"start\">\n                  <i class=\"fa fa-download\" aria-hidden=\"true\"></i>\n                  <div>Selectionner un .zip </div>\n                </div>\n              </label>\n            </form>\n          </Box>\n        </Modal>\n        <ul className=\"sidebar-list\"></ul>\n      </div>\n      <div className=\"main\">\n        {data &&\n          data.map((item, index) => (\n            <div key={index}>\n              <img\n                src={item.extension.replace(\".\", \"\") + \".png\"}\n                height={\"10%\"}\n                width={\"10%\"}\n                onClick={() => handleOpen(item.path)}\n              />\n              <Modal\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"modal-modal-title\"\n                aria-describedby=\"modal-modal-description\">\n                <Box className=\"upload-modal\" sx={style}>\n                  {pdfUrl && (\n                    <iframe src={pdfUrl} width=\"100%\" height=\"100%\"></iframe>\n                  )}\n                </Box>\n              </Modal>\n              <p>\n                {item.path.replace(\"uploads/Mes Fichiers/\", \"\")}\n              </p>\n              <p>taille :{item.taille / 1000} Ko</p>\n            </div>\n          ))}\n      </div>\n    </>\n  );\n};\nexport default Main;\n","import Header from './Header';\nimport SideBar from './SideBar';\nimport Main from './Main';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\n\nrequire('dotenv').config();\n\nconst Dashboard = () => {\n\t// USE HSTORY\n\tconst history = useHistory();\n\n\t// API GET Request for is-logged\n\tuseEffect(() => {\n\t\tdocument.title = 'Projet Florian';\n\t\tlet url = \"localhost:3000/is-logged\";\n\t\t// get request with fetch\n\t\tfetch(url, {\n\t\t\tmethod: 'GET',\n\t\t\twithCredentials: true,\n\t\t\tcredentials: 'include',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (!data.success) {\n\t\t\t\t\tsetIsLoggedIn(false);\n\t\t\t\t\thistory.push('/login');\n\t\t\t\t} else {\n\t\t\t\t\tsetIsLoggedIn(true);\n\t\t\t\t\tsetUserName(data.user);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t}, [history]);\n\n\t// State Variables\n\tconst [userName, setUserName] = useState('');\n\tconst [sideBarOption, setSideBarOption] = useState(0);\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false);\n\tconst [reRender, setReRender] = useState(0);\n\n\t\treturn (\n\t\t\t<div className=\"dashboard-container\">\n\t\t\t\t<div className=\"main-flex\">\n\t\t\t\t\t{/* Side Bar */}\n\t\t\t\t\t<SideBar\n\t\t\t\t\t\tsetSideBarOption={setSideBarOption}\n\t\t\t\t\t\treRender={reRender}\n\t\t\t\t\t\tsetReRender={setReRender}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* Main */}\n\t\t\t\t\t<Main\n\t\t\t\t\t\tsideBarOption={sideBarOption}\n\t\t\t\t\t\treRender={reRender}\n\t\t\t\t\t\tsetReRender={setReRender}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n};\n\nexport default Dashboard;\n","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Dashboard from './components/Dashboard';\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t{/* Login Route */}\n\t\t\t\t\t<Route exact path=\"/login\">\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/register\">\n\t\t\t\t\t\t<Register />\n\t\t\t\t\t</Route>\n\t\t\t\t\t{/* Dashboard Route */}\n\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t<Dashboard />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}